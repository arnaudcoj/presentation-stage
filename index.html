<!doctype html>
<html lang="fr">

  <head>
    <meta charset="utf-8">

    <title>Arnaud Cojez - Stage chez Vade Retro Technology</title>

    <meta name="description" content="Présentation de mon stage chez Vade Retro Technology">
    <meta name="author" content="Arnaud Cojez">

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/blood.css" id="theme">

    <!-- Code syntax highlighting -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- Printing and PDF exports -->
    <script>
      var link = document.createElement( 'link' );
      link.rel = 'stylesheet';
      link.type = 'text/css';
      link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
      document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>

    <!--[if lt IE 9]>
	<script src="lib/js/html5shiv.js"></script>
	<![endif]-->
  </head>

  <body>

    <div class="reveal" >

      <!-- Any section element inside of this container is displayed as a slide -->
      <div class="slides">
	<section>
	  <h1>Vade Retro Technology</h1>
	  <h3>Présentation de stage de Arnaud Cojez</h3>
	  <p>
	    Du 30 mars 2015 au 27 juin 2015
	  </p>
	</section>

	<section>
	  <h1>Entreprise</h1>
	</section>

	<section>
	  <img width="75%" src="images/logo-societe.png"/>
	  <ul>
	    <li>Société française basée à Hem</li>
	    <li>Président : Georges Lotigier</li>
	    <li>Chiffre d'affaires (2014) : 4 000 000 € (+10 %) </li>
	    <li>30 salariés</li>
	  </ul>
	</section>

	<section>
	  <h2>Historique</h2>
	  <ul>
	    <li>2003 : La première version du moteur de filtrage antispam Vade Retro est créée ;</li>
	    <li>2009 : SAS créée par apport partiel d’actifs en janvier 2009 ;</li>
	    <li>2012 : Lancement du Safe-Unsubscribe ;</li>
	    <li>2013 : Lancement de LoveYourEmails ;</li>
	    <li>2014 : Lancement de IsItPhishing.org, filiale ouverte à San Francisco ;</li>
	    <li>2015 : Signature avec CISCO.</li>
	  </ul>
	</section>

	<section>
	  <h2>Produits de Vade Retro Technology</h2>
	  
	  <section>
	    <h3>Le Filtre Vade-Retro</h3>
	  </section>
	  
	  <section>
	    <h3>La classification des e-mails</h3>
	  </section>
	  
	  <section>
	    <h3>La désinscription sécurisée</h3>
	  </section>

	  <section>
	    <h3>Dashboard de statistiques</h3>
	  </section>
	  
	</section>
	
	<section>
	  <h2>Types d'offre</h2>

	  <section>
	    <h3>Vade-Retro Cloud</h3>
	  </section>

	  <section>
	    <h3>Vade-Retro Cloud Kit</h3>
	  </section>
	  
	  <section>
	    <h3>Offres End-User</h3>
	    <ul>
	      <li>LoveYourEmails (IOS, Android & Web)</li>
	      <li>Barre d'outils Outlook</li>
	      <li>Vade-Retro Desktop</li>
	    </ul>
	  </section>

	</section>
	
	<section>

	  <h2>Position sur le marché</h2>
	  <section>
	    <h3>Présent dans 28 pays</h3>
	    <ul>
	      <li>France ;</li>
	      <li>États-Unis ;</li>
	      <li>Canada ;</li>
	      <li>Chine ;</li>
	      <li>etc.</li>
	    </ul>
	  </section>

	  <section>
	    <h3>Environ 1500 clients</h3>
	    <p>Plus grand client : 8,1 % des ventes en 2015.</p>
	  </section>
	  
	</section>

	<section>
	  <h2>Processus de développement</h2>
	</section>

	<section>
	  <h2>Des équipes distinctes</h2>

	  <section>
	    <h3>Filter Live</h3>
	  </section>

	  <section>
	    <h3>Innovation Lab</h3>
	  </section>

	  <section>
	    <h3>System Lab</h3>
	  </section>

	  <section>
	    <h3>Application Dev</h3>
	  </section>

	</section>

	<section>
	  <h2>Inspiré de la méthode Scrum</h2>
	  
	  <section>
	    <h3>Méthode flexible par itérations successives</h3>
	    
	  </section>

	  <section>
	    <h3>Service de Qualification</h3>

	  </section>
	  
	</section>
	
	<section>
	  <h1>Déroulement du stage</h1>
	  
	</section>

	<section>
	  <h2>Mission</h2>

	  <section>
	    <h3>Améliorer un algorithme déjà existant</h3>
	  </section>

	  <section>
	    <h3>Analyse de fichiers d'enregistrement de statistiques</h3>
	  </section>
	  
	</section>

	<section>
	  <h2>Fichier d'enregistrement</h2>
	  <h3>YYYY-mm-DD-HHMM-monitoring.log</h3>

	  <section>
	    <h3>YYYY</h3>
	    <p>Année (ex. : 2015)</p>
	  </section>

	  <section>
	    <h3>mm</h3>
	    <p>Mois (ex. : 06)</p>
	  </section>

	  <section>
	    <h3>DD</h3>
	    <p>Jour (ex. : 12)</p>
	  </section>

	  <section>
	    <h3>HH</h3>
	    <p>Heure (ex. : 13)</p>
	  </section>

	  <section>
	    <h3>MM</h3>
	    <p>Minute (ex. : 37)</p>
	  </section>

	</section>

	<section>
	  <h2>Lignes dans ces fichiers</h2>
	  <p>YYYY-mm-DDTHH:MM:SS+GMT mtaXX : [xxxxxxxx] [d:domaine.fr]:t=1234567890,cpt1=val1,...cptN=valN</p>

	  <section>
	    <h3>YYYY</h3>
	    <p>Année (ex. : 2015)</p>
	  </section>

	  <section>
	    <h3>mm</h3>
	    <p>Mois (ex. : 06)</p>
	  </section>
	  
	  <section>
	    <h3>DD</h3>
	    <p>Jour (ex. : 12)</p>
	  </section>

	  <section>
	    <h3>T</h3>
	    <p>Séparateur</p>
	  </section>

	  <section>
	    <h3>HH</h3>
	    <p>Heure (ex. : 13)</p>
	  </section>

	  <section>
	    <h3>MM</h3>
	    <p>Minute (ex. : 37)</p>
	  </section>

	  <section>
	    <h3>SS</h3>
	    <p>Secondes (ex. : 12)</p>
	  </section>

	  <section>
	    <h3>GMT</h3>
	    <p>Décalage horaire (ex. : 02:00)</p>
	  </section>

	  <section>
	    <h3>mtaXX</h3>
	    <p>Gestionnaire d'envoi de mails (ex. : mta06)</p>
	  </section>

	  <section>
	    <h3>[xxxxxxxx]</h3>
	    <p>Identifiant de processus (ex. : 00000000)</p>
	  </section>

	  <section>
	    <h3>[d:domaine.fr]</h3>
	    <p>Nom de domaine (ex. : [d:choco.la])</p>
	  </section>

	  <section>
	    <h3>t=1234567890</h3>
	    <p>Timestamp - date d'enregistrement (ex. : 1434116232)</p>
	    <p><small>équivaut à : ven. 12 juin 2015 15:37:12 CEST GMT+2:00 DST</small></p>
	  </section>

	  <section>
	    <h3>cpt1=val1,...</h3>
	    <p>Compteur et valeur (reject=1,virus=2,rcptto=0/0/1)</p>
	  </section>
	  
	</section>

	<section>
	  <h2>Certaines lignes sont différentes</h2>

	  <section>
	    <p>2015-03-30T10:36:01+02:00 mta02 : [00000000] alive</p>
	  </section>

	  <section>
	    <p>2015-03-30T10:36:01+02:00 mta06 ulog: [00000000] [error]:t=1427704500,fatal=1</p>
	  </section>
	</section>

	<section>
	  <h2>Certains compteurs aussi</h2>
	  <section>
	  <ul>
	    <li>rcptto=0/0/1</li>
	    <li>spf=0/2</li>
	    <li>etc.</li>
	  </ul>
	  </section>

	  <section>
	    <h3>Convertis en compteurs simples</h3>
	    <p>(ex. : rcpttox5=1, spfx2=2, etc.)
	  </section>
	</section>

	<section>
	  <h2>Base de données VRC</h2>

	  <section>
	    <h3>DOMAIN</h3>
	  </section>

	  <section>
	    <h3>HOME_SUMMARY</h3>
	  </section>
	  
	  <section>
	    <h3>STATISTICS_COUNTERS</h3>
	  </section>
	</section>

	<section>
	  <h2>7 types de compression</h2>
	  <h3>Représentés par des entiers</h3>
	  
	  <section>
	    <h3>0 = 1 minute</h3>
	    <p>(pas de compression)</p>
	  </section>

	  <section>
	    <h3>1 = 5 minutes</h3>
	    <p>exemple de période : 13h35 – 13h39</p>
	  </section>

	  <section>
	    <h3>2 = 30 minutes</h3>
	    <p>exemple de période : 13h30 – 13h59</p>
	  </section>

	  <section>
	    <h3>3 = 1 heure</h3>
	    <p>exemple de période : 13h00 – 13h59</p>
	  </section>

	  <section>
	    <h3>4 = 1 jour</h3>
	    <p>exemple de période : 12/06 à 00h00 – 12/06 à 23h59</p>
	  </section>

	  <section>
	    <h3>5 = 1 semaine</h3>
	    <p>exemple de période : 01/06 à 00h00 – 07/06 à 23h59</p>
	  </section>

	  <section>
	    <h3>6 = 1 mois</h3>
	    <p>exemple de période : 01/06 à 00h00 – 30/06 à 23h59</p>
	  </section>

	</section>

	<section>
	  <h2>Outils utilisés</h2>
	  <section>
	    <h3>Java Entreprise Edition</h3>
	    <ul>
	      <li>Tomcat</li>
	      <li>Hibernate</li>
	    </ul>
	  </section>

	  <section>
	    <h3>MySQL</h3>
	  </section>

	  <section>
	    <h3>Gestion de projet</h3>
	    <ul>
	      <li>Git</li>
	      <li>Maven</li>
	      <li>Redmine</li>
	      <li>GitLab</li>
	    </ul>
	  </section>

	  <section>
	    <h3>Scripting</h3>
	    <ul>
	      <li>Bash</li>
	      <li>Python</li>
	      <li>Perl</li>
	    </ul>
	  </section>

	</section>
	
	<section>
	  <h2>Ancien algorithme</h2>
	  
	  <section>
	    <h3>Compteurs simplement ajoutés dans la base de données en "non-compressés".</h3>
	  </section>
	  
	  <section>
	    <h3>Toutes les x minutes, récupère les entrées non compressées.</h3>
	  </section>
	  
	  <section>
	    <h3>Concatène ces compteurs avec des entrées de compression plus larges.</h3>
	  </section>
	   
	  <section>
	  <h3>Fonctionne, mais :</h3>

	  <ul>
	    <li>complexe ;</li>
	    <li>difficile à maintenir ;</li>
	    <li>tient peu la hausse du nombre de clients.</li>
	  </ul>
	  
	  </section>
	</section>
	
	<section>
	  <h1>Nouvel algorithme</h1>

	  <section>
	    <h3>Plusieurs versions</h3>
	  </section>
	  
	  <section>
	    <h3>Chaque version, nouvelle problématique</h3>
	  </section>
	  
	</section>

	<section>
	  <h2>Première Version</h2>
	  <img width="70%" src="images/fig02.svg" />
	  <h3>Trop basique, pas de compression</h3>
	</section>

	<section>
	  <h2>Compression</h2>
	  <img width="70%" src="images/fig03.svg" />
	</section>

	<section>
	  <img width="70%" src="images/fig04.svg" />
	  <h3>Conflit quand 2 threads updatent la même ligne</h3>
	</section>
	
	<section>
	  <h2>Actions</h2>
	  <img width="45%" src="images/fig05.svg" />
	</section>

	<section>
	  <img width="45%" src="images/fig06.svg" />
	  <h3>Si crash, certaines données perdues.</h3>
	</section>

	<section>
	  <h2>"Crash-proof"</h2>
	  <img width="50%" src="images/fig07.svg" />
	  <h3>Fonctionne de façon sécurisée, mais plutôt lent.</h3>
	</section>

	<section>
	  <h2>Version Finale</h2>
	  <img width="70%" src="images/fig08.svg" />
	</section>
	
	<section>
	  <h2>Ajout de l'index en base de données</h2>
	    <code>
	      CREATE INDEX MONITORING ON
	      STATISTICS_COUNTERS (STATISTICS_OEM_ID, STATISTICS_OWNER_ID,
	      STATISTICS_USER_ID, STATISTICS_DOMAIN_ID, STATISTICS_COMPRESSION_TYPE,
	      STATISTICS_DATE, STATISTICS_STREAM_TYPE);
	    </code>
	</section>
	
	<section>
	  <h1>Réintégration</h1>
	</section>

	<section>
	  <h2>Sous-Projet : Statistiques</h2>

	  <section>
	    <h3>Séparation des phases de construction</h3>
	    <ul>
	      <li>setup</li>
	      <li>initialize</li>
	    </ul>
	  </section>

	  <section>
	    <h3>Déploiement</h3>
	    <p>Rapports de statistiques inaccessibles !</p>
	  </section>

	  <section>
	    <img width="70%" src="images/stats.png" />
	  </section>
	  
	</section>

	<section>
	  <h2>Tests de l'Interface Utilisateur</h2>

	  <section>
	    <h3>Ré-intégration de 0</h3>
	    <ul>
	      <li>Supprimé moins de méthodes</li>
	      <li>Désactivé la boucle principale</li>
	    </ul>
	  </section>

	  <section>
	    <h3>Statistiques accessibles !</h3>
	    <p>Mais "No Data"</p>
	  </section>

	  <section>
	    <h3>Absence de -monitoring.log</h3>
	    <p>En cause : la désactivation de la boucle</p>
	    <p>Permettait la construction des fichiers</p>
	  </section>
	  
	</section>

	<section>
	  <h1>It works !</h1>
	  <img src="images/its_working.gif" />
	  <h3>Le programme pourra bientôt passer en Qualification.</h3>
	</section>
	
	<section>
	  <h1>Scripts</h1>
	</section>

	<section>
	  <h2>Script Bash</h2>
	  <h3>Génération de fichiers de d'enregistrements pour tester</h3>
	  <p>Fonctionne, mais trop lent.</p>
	</section>
	
	<section>
	  <h2>Script Python</h2>
	  <h3>Idem que pour le script Bash</h3>
	  <ul>
	    <li>Plus rapide ;</li>
	    <li>Option d'attente ;</li>
	    <li>Fichiers trop génériques.</li>
	  </ul>
	</section>
	
	<section>
	  <h2>Script Perl</h2>
	  <h3>Copie de fichiers déjà existants avec modification de date</h3>
	</section>

	<section>
	  <h2>Conclusion</h2>
	</section>

	<section>
	  <h1>Merci !</h1>
	</section>

	<section>
	  <h1>Fin</h1>
	</section>
	
      </div>

    </div>

    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.js"></script>

    <script>

      // Full list of configuration options available at:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
      controls: false,
      progress: true,
      history: true,
      center: true,

      transition: 'slide', // none/fade/slide/convex/concave/zoom

      // Optional reveal.js plugins
      dependencies: [
      { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
      { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
      { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
      { src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
      { src: 'plugin/zoom-js/zoom.js', async: true },
      { src: 'plugin/notes/notes.js', async: true }
      ]
      });
      
      window.addEventListener("mousedown", handleClick, false);
      window.addEventListener("contextmenu", function(e) { e.preventDefault(); }, false);
      
      function handleClick(e) {
      e.preventDefault();
      if(e.button === 0) Reveal.next(); 
      if(e.button === 2) Reveal.prev(); 
      }

    </script>

  </body>
</html>
